"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const util_1 = require("./util");
/**
 * A `ScopeStack` is used while traversing a template
 * to track what identifiers are currently in scope.
 */
class ScopeStack {
    constructor(identifiers) {
        this.stack = [new Set(identifiers)];
    }
    push(identifiers) {
        let scope = new Set(this.top);
        for (let identifier of identifiers) {
            scope.add(identifier);
        }
        this.stack.unshift(scope);
    }
    pop() {
        (0, util_1.assert)(this.stack.length > 1);
        this.stack.shift();
    }
    hasBinding(identifier) {
        return this.top.has(identifier);
    }
    get top() {
        return this.stack[0];
    }
}
exports.default = ScopeStack;
//# sourceMappingURL=scope-stack.js.map